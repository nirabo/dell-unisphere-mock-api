============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-7.4.3, pluggy-1.5.0 -- /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/.venv.test/bin/python3
cachedir: .pytest_cache
rootdir: /home/lpetrov/projects/sandbox/dell-unisphere-mock-api
plugins: anyio-3.7.1, asyncio-0.21.1, cov-4.1.0
asyncio: mode=Mode.STRICT
collecting ... collected 74 items

tests/test_auth.py::test_password_verification PASSED                    [  1%]
tests/test_auth.py::test_get_current_user_valid_credentials PASSED       [  2%]
tests/test_auth.py::test_get_current_user_invalid_credentials PASSED     [  4%]
tests/test_auth.py::test_get_current_user_missing_emc_header PASSED      [  5%]
tests/test_auth.py::test_verify_csrf_token_post_request PASSED           [  6%]
tests/test_auth.py::test_verify_csrf_token_get_request PASSED            [  8%]
tests/test_controllers.py::TestStorageResourceController::test_create_storage_resource PASSED [  9%]
tests/test_controllers.py::TestStorageResourceController::test_get_storage_resource PASSED [ 10%]
tests/test_controllers.py::TestStorageResourceController::test_list_storage_resources PASSED [ 12%]
tests/test_controllers.py::TestStorageResourceController::test_update_storage_resource PASSED [ 13%]
tests/test_controllers.py::TestStorageResourceController::test_delete_storage_resource PASSED [ 14%]
tests/test_controllers.py::TestStorageResourceController::test_host_access_management PASSED [ 16%]
tests/test_controllers.py::TestFilesystemController::test_create_filesystem PASSED [ 17%]
tests/test_controllers.py::TestFilesystemController::test_get_filesystem PASSED [ 18%]
tests/test_controllers.py::TestNasServerController::test_create_nas_server PASSED [ 20%]
tests/test_controllers.py::TestNasServerController::test_get_nas_server PASSED [ 21%]
tests/test_disk.py::test_create_disk PASSED                              [ 22%]
tests/test_disk.py::test_create_disk_invalid_type PASSED                 [ 24%]
tests/test_disk.py::test_get_disk PASSED                                 [ 25%]
tests/test_disk.py::test_list_disks PASSED                               [ 27%]
tests/test_disk.py::test_update_disk PASSED                              [ 28%]
tests/test_disk.py::test_delete_disk PASSED                              [ 29%]
tests/test_disk.py::test_get_disks_by_pool PASSED                        [ 31%]
tests/test_disk.py::test_get_disks_by_disk_group PASSED                  [ 32%]
tests/test_disk_group.py::test_create_disk_group PASSED                  [ 33%]
tests/test_disk_group.py::test_create_disk_group_invalid_raid PASSED     [ 35%]
tests/test_disk_group.py::test_get_disk_group PASSED                     [ 36%]
tests/test_disk_group.py::test_list_disk_groups PASSED                   [ 37%]
tests/test_disk_group.py::test_update_disk_group PASSED                  [ 39%]
tests/test_disk_group.py::test_delete_disk_group PASSED                  [ 40%]
tests/test_lun.py::test_create_lun PASSED                                [ 41%]
tests/test_lun.py::test_get_lun PASSED                                   [ 43%]
tests/test_lun.py::test_get_lun_by_name PASSED                           [ 44%]
tests/test_lun.py::test_list_luns PASSED                                 [ 45%]
tests/test_lun.py::test_get_luns_by_pool PASSED                          [ 47%]
tests/test_lun.py::test_modify_lun PASSED                                [ 48%]
tests/test_lun.py::test_delete_lun PASSED                                [ 50%]
tests/test_lun.py::test_delete_lun_by_name PASSED                        [ 51%]
tests/test_models.py::TestStorageResourceModel::test_create_storage_resource PASSED [ 52%]
tests/test_models.py::TestStorageResourceModel::test_get_storage_resource PASSED [ 54%]
tests/test_models.py::TestStorageResourceModel::test_list_storage_resources PASSED [ 55%]
tests/test_models.py::TestStorageResourceModel::test_update_storage_resource PASSED [ 56%]
tests/test_models.py::TestStorageResourceModel::test_delete_storage_resource PASSED [ 58%]
tests/test_models.py::TestStorageResourceModel::test_host_access_management PASSED [ 59%]
tests/test_models.py::TestStorageResourceModel::test_update_usage_stats PASSED [ 60%]
tests/test_models.py::TestFilesystemModel::test_create_filesystem PASSED [ 62%]
tests/test_models.py::TestFilesystemModel::test_get_filesystem PASSED    [ 63%]
tests/test_models.py::TestFilesystemModel::test_list_filesystems PASSED  [ 64%]
tests/test_models.py::TestNasServerModel::test_create_nas_server PASSED  [ 66%]
tests/test_models.py::TestNasServerModel::test_get_nas_server PASSED     [ 67%]
tests/test_models.py::TestNasServerModel::test_list_nas_servers PASSED   [ 68%]
tests/test_pool.py::test_create_pool PASSED                              [ 70%]
tests/test_pool.py::test_get_pool PASSED                                 [ 71%]
tests/test_pool.py::test_get_pool_by_name PASSED                         [ 72%]
tests/test_pool.py::test_list_pools PASSED                               [ 74%]
tests/test_pool.py::test_modify_pool PASSED                              [ 75%]
tests/test_pool.py::test_delete_pool PASSED                              [ 77%]
tests/test_pool.py::test_delete_pool_by_name PASSED                      [ 78%]
tests/test_pool_unit.py::test_create_pool_unit PASSED                    [ 79%]
tests/test_pool_unit.py::test_get_pool_unit PASSED                       [ 81%]
tests/test_pool_unit.py::test_list_pool_units PASSED                     [ 82%]
tests/test_pool_unit.py::test_update_pool_unit PASSED                    [ 83%]
tests/test_pool_unit.py::test_delete_pool_unit PASSED                    [ 85%]
tests/test_routes.py::TestStorageResourceRoutes::test_create_storage_resource PASSED [ 86%]
tests/test_routes.py::TestStorageResourceRoutes::test_get_storage_resource PASSED [ 87%]
tests/test_routes.py::TestStorageResourceRoutes::test_list_storage_resources PASSED [ 89%]
tests/test_routes.py::TestStorageResourceRoutes::test_update_storage_resource PASSED [ 90%]
tests/test_routes.py::TestStorageResourceRoutes::test_delete_storage_resource PASSED [ 91%]
tests/test_routes.py::TestStorageResourceRoutes::test_host_access_management PASSED [ 93%]
tests/test_routes.py::TestStorageResourceRoutes::test_unauthorized_access PASSED [ 94%]
tests/test_routes.py::TestFilesystemRoutes::test_create_filesystem PASSED [ 95%]
tests/test_routes.py::TestFilesystemRoutes::test_get_filesystem PASSED   [ 97%]
tests/test_routes.py::TestNasServerRoutes::test_create_nas_server PASSED [ 98%]
tests/test_routes.py::TestNasServerRoutes::test_get_nas_server PASSED    [100%]WARNING: Failed to generate report: No data to report.



=============================== warnings summary ===============================
.venv.test/lib/python3.12/site-packages/pydantic/_internal/_config.py:271
.venv.test/lib/python3.12/site-packages/pydantic/_internal/_config.py:271
.venv.test/lib/python3.12/site-packages/pydantic/_internal/_config.py:271
.venv.test/lib/python3.12/site-packages/pydantic/_internal/_config.py:271
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/.venv.test/lib/python3.12/site-packages/pydantic/_internal/_config.py:271: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

.venv.test/lib/python3.12/site-packages/pydantic/_internal/_config.py:321
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/.venv.test/lib/python3.12/site-packages/pydantic/_internal/_config.py:321: UserWarning: Valid config keys have changed in V2:
  * 'orm_mode' has been renamed to 'from_attributes'
    warnings.warn(message, UserWarning)

tests/test_disk.py::test_create_disk
tests/test_disk.py::test_get_disk
tests/test_disk.py::test_update_disk
tests/test_disk.py::test_delete_disk
tests/test_disk.py::test_get_disks_by_pool
tests/test_disk.py::test_get_disks_by_disk_group
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/dell_unisphere_mock_api/routers/disk.py:14: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    disk_data = disk.dict()

tests/test_disk.py: 7 warnings
tests/test_disk_group.py: 5 warnings
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/.venv.test/lib/python3.12/site-packages/pydantic/main.py:979: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warnings.warn('The `dict` method is deprecated; use `model_dump` instead.', DeprecationWarning)

tests/test_disk.py::test_update_disk
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/dell_unisphere_mock_api/routers/disk.py:45: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    updated_disk = disk_model.update(disk_id, disk.dict(exclude_unset=True))

tests/test_disk_group.py::test_create_disk_group
tests/test_disk_group.py::test_get_disk_group
tests/test_disk_group.py::test_update_disk_group
tests/test_disk_group.py::test_delete_disk_group
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/dell_unisphere_mock_api/routers/disk_group.py:23: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    return disk_group_model.create(disk_group.dict())

tests/test_disk_group.py::test_update_disk_group
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/dell_unisphere_mock_api/routers/disk_group.py:41: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    updated_disk_group = disk_group_model.update(disk_group_id, disk_group.dict(exclude_unset=True))

tests/test_routes.py::TestStorageResourceRoutes::test_create_storage_resource
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/.venv.test/lib/python3.12/site-packages/_pytest/python.py:198: PytestReturnNotNoneWarning: Expected None, but tests/test_routes.py::TestStorageResourceRoutes::test_create_storage_resource returned {'name': 'test_resource', 'description': 'Test storage resource', 'type': 'LUN', 'pool': 'pool_1', 'isThinEnabled': True, 'isCompressionEnabled': False, 'isAdvancedDedupEnabled': False, 'sizeTotal': 107374182400, 'id': '94211aae-5a66-46c5-9706-6959035321d7', 'health': 'OK', 'sizeUsed': 0, 'sizeAllocated': 10737418240, 'thinStatus': 'True', 'metadataSize': 0, 'metadataSizeAllocated': 0, 'snapCount': 0, 'snapSize': 0, 'snapSizeAllocated': 0, 'hostAccess': [], 'perTierSizeUsed': {}, 'created': '2024-12-23T10:37:57.879853Z', 'modified': '2024-12-23T10:37:57.879857Z'}, which will be an error in a future version of pytest.  Did you mean to use `assert` instead of `return`?
    warnings.warn(

tests/test_routes.py::TestFilesystemRoutes::test_create_filesystem
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/.venv.test/lib/python3.12/site-packages/_pytest/python.py:198: PytestReturnNotNoneWarning: Expected None, but tests/test_routes.py::TestFilesystemRoutes::test_create_filesystem returned {'name': 'test_filesystem', 'description': 'Test filesystem', 'nasServer': 'nas_1', 'size': 107374182400, 'protocol': 'NFS', 'id': 'c7fcc523-a2eb-490e-a70d-0350fc57a428', 'health': 'OK', 'sizeAllocated': 1073741824, 'sizeUsed': 0, 'cifsShares': [], 'nfsShares': [], 'created': '2024-12-23T10:37:58.128318Z', 'modified': '2024-12-23T10:37:58.128323Z'}, which will be an error in a future version of pytest.  Did you mean to use `assert` instead of `return`?
    warnings.warn(

tests/test_routes.py::TestNasServerRoutes::test_create_nas_server
  /home/lpetrov/projects/sandbox/dell-unisphere-mock-api/.venv.test/lib/python3.12/site-packages/_pytest/python.py:198: PytestReturnNotNoneWarning: Expected None, but tests/test_routes.py::TestNasServerRoutes::test_create_nas_server returned {'name': 'test_nas', 'description': 'Test NAS server', 'pool': 'pool_1', 'currentUnixDirectoryService': 'None', 'isMultiprotocolEnabled': False, 'currentPreferredIPv4Interface': None, 'id': 'bc25055e-fafb-4f48-bd58-8625a4da8795', 'health': 'OK', 'protocols': ['NFSv3'], 'fileInterfaces': [], 'fileSystemCount': 0, 'created_at': '2024-12-23T10:37:58.174911Z', 'updated_at': '2024-12-23T10:37:58.174914Z'}, which will be an error in a future version of pytest.  Did you mean to use `assert` instead of `return`?
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html

---------- coverage: platform linux, python 3.12.3-final-0 -----------

======================= 74 passed, 32 warnings in 1.67s ========================
